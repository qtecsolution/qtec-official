{% extends 'homepage/base_homepage.html' %}
{% load social_share %}
{% load static %}
{% block content %}
<style>
  .image.image_resized {
    margin-inline:auto;
  }
  .image.image_resized img {
    width: 100%;
    
  }

</style>

  <!--<========== BLOG-DETAILS START ==========-->
  <section class="blogdetails">
    <div class="container">
      <div class="blogdetails-content">
    
        <!-- BLOG INFO START -->
        <div class="bloginfo">
          <div class="row">
            <div class="col-lg-8 mx-lg-auto col-12">
              <!-- BLOG DESCRIPTIONS START -->
              <div class="blogdescriptions">
                <!-- BLOG-DESCRIPTIONS HEADER START -->
                <div class="blogdescriptions-header">
                  <!-- BLOG TITLE START -->
                  <div class="titlebox">
                    <h1 class="title">{{ blog.title }}</h1>
                  </div>
                  <!-- BLOG TITLE END -->

                  <!-- AUTHORINFO-SHAREINFO START -->
                  <div class="authorinfo-shareinfo">
                    <!-- AUTHOR-INFO START -->
                    <div class="authorinfo">
                      <h5 class="authorname">Author: {{ blog.blog_author.name }}, {{ blog.blog_author.qualification }}</h5>
                      
                      <p class="date" style="font-size:12px; font-style: italic">{{ blog.blog_author.bio }}</p>
                      
                      <p class="date">Published: {{ blog.created_at }}</p>
                      <p class="date">Modified: {{ blog.updated_at }}</p>
                    </div>
                    <!-- AUTHOR-INFO END -->

                    <!-- SHARE-INFO START -->
                    <div class="shareinfo" style="gap: 0rem;">
                      <p class="sharetitle">Share with </p>

                      <!-- SHARE SOCIAL LIST START -->
                        <input id="foo" type="text" class="d-none" value="{{ abs_uri }}">
                      <ul class="sociallist">
                        <li class="sociallist-item">
                          {% post_to_facebook abs_uri "Facebook" %}
                        </li>

                        <li class="sociallist-item">
                            {% post_to_twitter '{{ blog.title }}' abs_uri "Twitter" %}
                        </li>

                        <li class="sociallist-item">
                            {% post_to_whatsapp abs_uri "WhatsApp" %}

                        </li>

                        <li class="sociallist-item">
                            {% send_email "{{ blog.title }}" "{{ blog.description }}" abs_uri "E-mail" %}
                        </li>

                        <li onclick="myFunction()" style="cursor: pointer" class="sociallist-item ">
                          <a id="copyTexta" class="sociallist-link" data-bs-toggle="tooltip"
                            data-bs-placement="top" title="Copy Link">
                            <span class="icon">
                              <svg width="17" height="17" viewBox="0 0 17 17" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                  d="M10.8854 13.793H5.55208C5.02165 13.793 4.51294 13.5823 4.13787 13.2072C3.7628 12.8321 3.55208 12.3234 3.55208 11.793V5.1263C3.55208 4.94949 3.48185 4.77992 3.35682 4.6549C3.2318 4.52987 3.06223 4.45964 2.88542 4.45964C2.70861 4.45964 2.53904 4.52987 2.41401 4.6549C2.28899 4.77992 2.21875 4.94949 2.21875 5.1263V11.793C2.21875 12.677 2.56994 13.5249 3.19506 14.15C3.82018 14.7751 4.66803 15.1263 5.55208 15.1263H10.8854C11.0622 15.1263 11.2318 15.0561 11.3568 14.931C11.4818 14.806 11.5521 14.6364 11.5521 14.4596C11.5521 14.2828 11.4818 14.1133 11.3568 13.9882C11.2318 13.8632 11.0622 13.793 10.8854 13.793ZM14.2188 6.41964C14.2118 6.35839 14.1984 6.29806 14.1788 6.23964V6.17964C14.1467 6.11109 14.1039 6.04808 14.0521 5.99297L10.0521 1.99297C9.99697 1.94111 9.93396 1.89836 9.86542 1.8663H9.80542L9.59208 1.79297H6.88542C6.35498 1.79297 5.84628 2.00368 5.4712 2.37876C5.09613 2.75383 4.88542 3.26254 4.88542 3.79297V10.4596C4.88542 10.9901 5.09613 11.4988 5.4712 11.8738C5.84628 12.2489 6.35498 12.4596 6.88542 12.4596H12.2188C12.7492 12.4596 13.2579 12.2489 13.633 11.8738C14.008 11.4988 14.2188 10.9901 14.2188 10.4596V6.45964C14.2188 6.45964 14.2188 6.45964 14.2188 6.41964ZM10.2188 4.0663L11.9454 5.79297H10.8854C10.7086 5.79297 10.539 5.72273 10.414 5.59771C10.289 5.47268 10.2188 5.30311 10.2188 5.1263V4.0663ZM12.8854 10.4596C12.8854 10.6364 12.8152 10.806 12.6902 10.931C12.5651 11.0561 12.3956 11.1263 12.2188 11.1263H6.88542C6.70861 11.1263 6.53904 11.0561 6.41401 10.931C6.28899 10.806 6.21875 10.6364 6.21875 10.4596V3.79297C6.21875 3.61616 6.28899 3.44659 6.41401 3.32156C6.53904 3.19654 6.70861 3.1263 6.88542 3.1263H8.88542V5.1263C8.88542 5.65674 9.09613 6.16544 9.4712 6.54052C9.84628 6.91559 10.355 7.1263 10.8854 7.1263H12.8854V10.4596Z"
                                  fill="#718096" />
                              </svg>
                            </span>
                          </a>
                        </li>
                      </ul>
                      <!-- SHARE SOCIAL LIST END -->
                    </div>
                    <!-- SHARE-INFO END -->
                  </div>
                  <!-- AUTHORINFO-SHAREINFO END -->
                </div>
                <!-- BLOG-DESCRIPTIONS HEADER END -->

                <!-- SECTION DIVIDER START -->
                <div class="divider"></div>
                <!-- SECTION DIVIDER END -->
                
                 <!-- BLOG-DETAILS THUMBNAIL START -->
                 <div class="blogdetails-thumbnail" style="width: 100%; object-fit: contain;height: 100%;">
                  <img src="{{ blog.image.url }}" alt="{% if blog.alt_text %}{{ blog.alt_text }}{% else %}blog-thumbnail{% endif %}">
                </div>
                <!-- BLOG-DETAILS THUMBNAIL END -->

                <div class="blogdetails-content">
                 
                <!-- BLOG-DESCRIPTIONS BODY START -->
                <div class="blogdescriptions-body">
                  <div class="detail">
                    <div class="description">
                      {{ blog.description|safe }}
                    </div>
                  </div>
                </div>
                <!-- BLOG-DESCRIPTIONS BODY END -->
              </div>
              <!-- BLOG DESCRIPTIONS END -->
            </div>
          </div>
        </div>
        <!-- BLOG INFO END -->
      </div>
    </div>
  </section>
  <!--========== BLOG-DETAILS END ============-->

  {% if random_blog %}
  <!--========== READ-NEXT START ==========-->
  <section class="readnext">
    <div class="container">
      <!-- READ-NEXT CONTENT START -->
      <div class="readnext-content">
        <!-- READ-NEXT HEADER START -->
        <div class="readnext-header">
          <h2 class="readnext-title">Read Next</h2>
        </div>
        <!-- READ-NEXT HEADER END -->

        <!-- READ-NEXT BODY START -->
        <div class="readnext-body">
          <div class="row g-lg-4 g-3">
            <!-- BLOG ITEM START -->
              {% for i in random_blog %}
                    <div class="col-lg-3 col-md-6 col-sm-6 col-10 mx-auto">
              <a href="/blog/{{ i.slug }}/" class="bloglink">
                <div class="card-article">
                  <div class="card-article-header" style="object-fit: contain;">
                    {% comment %} <img src="{{ i.thumbnail.url }}" alt="card-thumbnail"> {% endcomment %}
                    {% if i.thumbnail %}
                      <img style="object-fit: fill;" src="{{ i.thumbnail.url }}" alt="card-thumbnail">
                    {% else %}
                      <img style="object-fit: fill;" src="{% static 'images/default.jpg' %}" alt="card-thumbnail">
                    {% endif %}
                  </div>

                  <div class="card-article-body">
                    <div class="title-date">
                      <h4 class="title">{{ i.title }}</h4>
                      <p class="date">{{ i.updated_at }}</p>
                    </div>

                    <div class="articledescript" maxlength="50">
                     
                      {{ i.description|safe|truncatechars_html:100 }}
                      
                    </div>

                    <span class="articlelink">Read article</span>
                  </div>
                </div>
              </a>
            </div>
              {% endfor %}
            <!-- BLOG ITEM END -->
            <!-- BLOG ITEM END -->
          </div>
        </div>
        <!-- READ-NEXT BODY END -->

        <!-- READ-NEXT FOOTER START -->
        <div class="readnext-footer">
          <div class="backinfo">
            <a href="{% url 'homepage:all_blog_url' %}" class="btn-read">See All</a>
          </div>
        </div>
        <!-- READ-NEXT FOOTER END -->
      </div>
      <!-- READ-NEXT CONTENT END -->
      {% endif %}
    </div>
  </section>
{% endblock %}
{% block script %}
    <script>
    $(document).ready(function() {
      $('.description p  ').addClass('descriptiontext');
      $('.description ul ').addClass('descriptiontext');
      $('.description ul ').addClass('descriptionlist');
      $('.description ol ').addClass('descriptiontext');
      $('.description ol ').addClass('descriptionlist');
   
      $('.description h1 ').addClass('h1class');
      $('.description h2 ').addClass('h2class');
      $('.description h3 ').addClass('h3class');
      $('.description h4 ').addClass('h4class');
      $('.description h5 ').addClass('h5class');
      $('.description h6 ').addClass('h6class');
      
      $('.articledescript p').addClass('articletext');
    

      
    });

        function myFunction() {
          var copyText = document.getElementById("foo");

          copyText.select();
          copyText.setSelectionRange(0, 99999); /* For mobile devices */

          navigator.clipboard.writeText(copyText.value);
        $('#copyTexta').attr('data-bs-original-title', 'Copied');

        }
    </script>
{% endblock %}